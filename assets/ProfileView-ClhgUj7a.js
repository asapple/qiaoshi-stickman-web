import{a3 as S,a4 as I,a5 as N,Y as c,E as b,a6 as D,r as h,D as E,z as V,a as n,O as y,a7 as A,a8 as M,d as $,c as U,b as g,S as i,w as u,g as p,o as z,_ as L}from"./index-Ds7TQYyc.js";function O(){const e=I({show:!1}),t=l=>{e.show=l},o=l=>{c(e,l,{transitionAppear:!0}),t(!0)},s=()=>t(!1);return N({open:o,close:s,toggle:t}),{open:o,close:s,state:e,toggle:t}}function B(e){const t=S(e),o=document.createElement("div");return document.body.appendChild(o),{instance:t.mount(o),unmount(){t.unmount(),document.body.removeChild(o)}}}const W={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let d=[],j=!1,C=c({},W);const q=new Map;function k(e){return D(e)?e:{message:e}}function F(){const{instance:e}=B({setup(){const t=h(""),{open:o,state:s,close:l,toggle:f}=O(),a=()=>{},m=()=>n(A,y(s,{onClosed:a,"onUpdate:show":f}),null);return E(t,r=>{s.message=r}),V().render=m,{open:o,close:l,message:t}}});return e}function H(){if(!d.length||j){const e=F();d.push(e)}return d[d.length-1]}function Y(e={}){if(!b)return{};const t=H(),o=k(e);return t.open(c({},C,q.get(o.type||C.type),o)),t}const G=e=>t=>Y(c({type:e},k(t))),J=G("success");let _;const K={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,destroyOnClose:!1};let Q=c({},K);function R(){({instance:_}=B({setup(){const{state:t,toggle:o}=O();return()=>n(M,y(t,{"onUpdate:show":o}),null)}}))}function X(e){return b?new Promise((t,o)=>{_||R(),_.open(c({},Q,e,{callback:s=>{(s==="confirm"?t:o)(s)}}))}):Promise.resolve(void 0)}const w=e=>X(c({showCancelButton:!0},e)),Z="18801058117",ee={customerServicePhone:Z},te={class:"profile-page"},oe={class:"content"},ne={style:{margin:"20px"}},se=$({__name:"ProfileView",setup(e){const t=h({name:"张三",phone:"13800138000"}),o=()=>{localStorage.removeItem("authToken"),window.location.reload()},s=async()=>{try{await w({title:"修改昵称",message:`当前昵称：${t.value.name}`,confirmButtonText:"确认",cancelButtonText:"取消"}),J("昵称修改功能已触发")}catch{}},l=()=>{w({title:"联系我们",message:`客服联系电话：${ee.customerServicePhone}`,confirmButtonText:"确定",showCancelButton:!1})};return(f,a)=>{const m=i("van-nav-bar"),r=i("van-cell"),x=i("van-cell-group"),T=i("van-button"),v=i("van-tabbar-item"),P=i("van-tabbar");return z(),U("div",te,[n(m,{title:"我的资料"}),g("div",oe,[n(x,null,{default:u(()=>[n(r,{title:"昵称",value:t.value.name,"is-link":"",onClick:s},null,8,["value"]),n(r,{title:"手机号",value:t.value.phone},null,8,["value"]),n(r,{title:"联系我们","is-link":"",onClick:l})]),_:1}),g("div",ne,[n(T,{type:"danger",block:"",onClick:o},{default:u(()=>a[0]||(a[0]=[p("退出登录",-1)])),_:1,__:[0]})])]),n(P,{route:""},{default:u(()=>[n(v,{replace:"",to:"/device",icon:"apps-o"},{default:u(()=>a[1]||(a[1]=[p("设备",-1)])),_:1,__:[1]}),n(v,{replace:"",to:"/contacts",icon:"contact-o"},{default:u(()=>a[2]||(a[2]=[p("通知人",-1)])),_:1,__:[2]}),n(v,{replace:"",to:"/profile",icon:"user-o"},{default:u(()=>a[3]||(a[3]=[p("我的",-1)])),_:1,__:[3]})]),_:1})])}}}),le=L(se,[["__scopeId","data-v-ff244857"]]);export{le as default};
