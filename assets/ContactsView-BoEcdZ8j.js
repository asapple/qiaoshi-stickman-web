import{d as F,r as m,c as h,a as t,b as n,w as s,u as l,N as P,U as $,f as _,a9 as k,P as E,T as G,I as C,B as b,g as r,F as x,e as g,h as w,i as u,o as v,k as y,aa as B,_ as K}from"./index-BHiNiRAl.js";const L={class:"contacts-page"},M={class:"search-section"},R={class:"search-box"},j={key:0,class:"search-results"},q={class:"contacts-section"},D={class:"add-contact-popup"},H={class:"popup-content"},J={class:"popup-footer"},O=F({__name:"ContactsView",setup(Q){const d=m([{id:1,name:"李四",phone:"13800138001"},{id:2,name:"王五",phone:"13800138002"},{id:3,name:"赵六",phone:"13800138003"}]),p=m(""),f=m([]),c=m(!1),a=m({name:"",phone:"",code:""}),N=()=>{if(!p.value){u.show("请输入搜索关键词");return}f.value=d.value.filter(i=>i.name.includes(p.value)||i.phone.includes(p.value)),f.value.length===0&&u.show("未找到匹配的联系人")},V=i=>{d.value=d.value.filter(e=>e.id!==i),u.show("联系人已删除")},U=()=>{c.value=!0},I=()=>{if(!a.value.phone){u.show("请输入手机号");return}a.value.code="123456",u.show("验证码已发送")},T=()=>{if(!a.value.name){u.show("请输入昵称");return}if(!a.value.phone){u.show("请输入手机号");return}if(!a.value.code){u.show("请输入验证码");return}const i=d.value.length>0?Math.max(...d.value.map(e=>e.id))+1:1;d.value.push({id:i,name:a.value.name,phone:a.value.phone}),u.show("联系人添加成功"),a.value.name="",a.value.phone="",a.value.code="",c.value=!1},z=()=>{a.value.name="",a.value.phone="",a.value.code="",c.value=!1};return(i,e)=>(v(),h("div",L,[t(l(P),{title:"通知人管理"},{right:s(()=>[t(l(C),{name:"plus",size:"20",onClick:U})]),_:1}),n("div",M,[e[6]||(e[6]=n("div",{class:"section-title"},"搜索通知人",-1)),n("div",R,[t(l(_),{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=o=>p.value=o),placeholder:"请输入手机号或昵称",clearable:""},{button:s(()=>[t(l(b),{size:"small",type:"primary",onClick:N},{default:s(()=>e[5]||(e[5]=[r("搜索",-1)])),_:1,__:[5]})]),_:1},8,["modelValue"])]),p.value&&f.value.length>0?(v(),h("div",j,[t(l(k),null,{default:s(()=>[(v(!0),h(x,null,g(f.value,o=>(v(),y(l(B),{key:o.id,title:o.name,label:o.phone},{"right-icon":s(()=>[t(l(C),{name:"delete-o",onClick:A=>V(o.id)},null,8,["onClick"])]),_:2},1032,["title","label"]))),128))]),_:1})])):$("",!0)]),n("div",q,[e[7]||(e[7]=n("div",{class:"section-title"},"联系人列表",-1)),t(l(k),null,{default:s(()=>[(v(!0),h(x,null,g(d.value,o=>(v(),y(l(B),{key:o.id,title:o.name,label:o.phone},{"right-icon":s(()=>[t(l(C),{name:"delete-o",onClick:A=>V(o.id)},null,8,["onClick"])]),_:2},1032,["title","label"]))),128))]),_:1})]),t(l(E),{show:c.value,"onUpdate:show":e[4]||(e[4]=o=>c.value=o),position:"bottom",style:{height:"50%"},round:""},{default:s(()=>[n("div",D,[e[11]||(e[11]=n("div",{class:"popup-header"},[n("h2",null,"添加新联系人")],-1)),n("div",H,[t(l(_),{modelValue:a.value.name,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.name=o),label:"昵称",placeholder:"请输入昵称",clearable:""},null,8,["modelValue"]),t(l(_),{modelValue:a.value.phone,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.phone=o),label:"手机号",placeholder:"请输入手机号",clearable:"",type:"tel"},null,8,["modelValue"]),t(l(_),{modelValue:a.value.code,"onUpdate:modelValue":e[3]||(e[3]=o=>a.value.code=o),label:"验证码",placeholder:"请输入验证码",clearable:""},{button:s(()=>[t(l(b),{size:"small",onClick:I},{default:s(()=>e[8]||(e[8]=[r("发送",-1)])),_:1,__:[8]})]),_:1},8,["modelValue"])]),n("div",J,[t(l(b),{block:"",round:"",onClick:z,style:{margin:"0 10px 10px 10px"}},{default:s(()=>e[9]||(e[9]=[r(" 取消 ",-1)])),_:1,__:[9]}),t(l(b),{type:"primary",block:"",round:"",onClick:T,style:{margin:"0 10px 10px 10px"}},{default:s(()=>e[10]||(e[10]=[r(" 添加 ",-1)])),_:1,__:[10]})])])]),_:1},8,["show"]),t(l(G),{route:""},{default:s(()=>[t(l(w),{replace:"",to:"/device",icon:"apps-o"},{default:s(()=>e[12]||(e[12]=[r("设备",-1)])),_:1,__:[12]}),t(l(w),{replace:"",to:"/contacts",icon:"contact-o"},{default:s(()=>e[13]||(e[13]=[r("通知人",-1)])),_:1,__:[13]}),t(l(w),{replace:"",to:"/profile",icon:"user-o"},{default:s(()=>e[14]||(e[14]=[r("我的",-1)])),_:1,__:[14]})]),_:1})]))}}),W=K(O,[["__scopeId","data-v-e1dbb6b0"]]);export{W as default};
